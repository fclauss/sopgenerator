<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Assembly SOP Generator - Create professional Standard Operating Procedures for manufacturing assembly processes">
    <meta name="keywords" content="SOP, Standard Operating Procedure, Assembly, Manufacturing, Quality">
    <meta name="author" content="Optimal AI">
    <title>Assembly SOP Generator | Optimal AI</title>
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Header Section -->
    <header class="header" role="banner">
        <div class="header-container">
            <div class="logo-section">
                <h1 class="app-title">
                    <span class="icon" aria-hidden="true">🔧</span>
                    Assembly SOP Generator
                </h1>
                <p class="app-subtitle">Streamline your Standard Operating Procedures</p>
            </div>
            
            <nav class="header-nav" role="navigation" aria-label="Main navigation">
                <button class="nav-toggle" 
                        id="nav-toggle" 
                        aria-expanded="false" 
                        aria-controls="main-nav"
                        aria-label="Toggle navigation menu">
                    <span class="hamburger"></span>
                </button>
                
                <ul class="nav-list" id="main-nav" role="menubar">
                    <li role="none"><a href="#database" class="nav-link nav-link-database" role="menuitem">Database</a></li>
                    <li role="none"><a href="#basic-info" class="nav-link" role="menuitem">Basic Info</a></li>
                    <li role="none"><a href="#bom" class="nav-link" role="menuitem">BOM</a></li>
                    <li role="none"><a href="#safety" class="nav-link" role="menuitem">Safety</a></li>
                    <li role="none"><a href="#assembly" class="nav-link" role="menuitem">Assembly</a></li>
                    <li role="none"><a href="#preview" class="nav-link" role="menuitem">Preview</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="main-content" class="main-content" role="main">
        <div class="container">
            <!-- Progress Indicator -->
            <section class="progress-section" aria-label="Progress indicator">
                <div class="progress-bar">
                    <div class="progress-fill" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="SOP creation progress"></div>
                </div>
                <p class="progress-text">Step <span id="current-step">1</span> of <span id="total-steps">5</span></p>
            </section>

            <!-- Form Sections Container -->
            <div class="form-container">
                <!-- Database Management Section (Separate from main flow) -->
                <section id="database" class="form-section database-section" aria-labelledby="database-title">
                    <header class="section-header">
                        <h2 id="database-title" class="section-title">
                            <span class="section-number">DB</span>
                            Manage Your Database
                        </h2>
                        <p class="section-description">Add items to your database once, reuse across multiple SOPs</p>
                    </header>
                    <div class="section-content">
                        <div class="database-grid">
                            <div class="database-column">
                                <h3 class="database-title">Safety Database</h3>
                                <div class="database-items" id="safety-database">
                                    <!-- Database items will be populated dynamically -->
                                </div>
                                <button type="button" class="add-button" data-database="safety">
                                    <span aria-hidden="true">+</span> Add Safety Item
                                </button>
                            </div>
                            <div class="database-column">
                                <h3 class="database-title">Tools Database</h3>
                                <div class="database-items" id="tools-database">
                                    <!-- Database items will be populated dynamically -->
                                </div>
                                <button type="button" class="add-button" data-database="tools">
                                    <span aria-hidden="true">+</span> Add Tool
                                </button>
                            </div>
                            <div class="database-column">
                                <h3 class="database-title">Fixtures Database</h3>
                                <div class="database-items" id="fixtures-database">
                                    <!-- Database items will be populated dynamically -->
                                </div>
                                <button type="button" class="add-button" data-database="fixtures">
                                    <span aria-hidden="true">+</span> Add Fixture
                                </button>
                            </div>
                        </div>
                        <div class="database-note">
                            <p><strong>Note:</strong> The Database section is separate from the main SOP creation flow. Use it to manage reusable items across multiple SOPs.</p>
                        </div>
                    </div>
                </section>

                <!-- Section 1: Basic Information -->
                <section id="basic-info" class="form-section active" aria-labelledby="basic-info-title">
                    <header class="section-header">
                        <h2 id="basic-info-title" class="section-title">
                            <span class="section-number">1</span>
                            Basic Information
                        </h2>
                        <p class="section-description">Enter the fundamental details for your SOP document</p>
                    </header>
                    <div class="section-content">
                        <!-- Form fields will be added in subsequent tasks -->
                        <div class="form-placeholder">
                            <p>Basic information form fields will be implemented in Task 6</p>
                        </div>
                    </div>
                </section>

                <!-- Section 2: Bill of Materials -->
                <section id="bom" class="form-section" aria-labelledby="bom-title">
                    <header class="section-header">
                        <h2 id="bom-title" class="section-title">
                            <span class="section-number">2</span>
                            Bill of Materials
                        </h2>
                        <p class="section-description">Define all parts and components needed for this assembly</p>
                    </header>
                    <div class="section-content">
                        <div class="bom-container" id="bom-container">
                            <!-- BOM items will be added dynamically -->
                        </div>
                        <button type="button" class="add-button" id="add-bom-item">
                            <span aria-hidden="true">+</span> Add BOM Item
                        </button>
                    </div>
                </section>

                <!-- Section 3: Safety Requirements -->
                <section id="safety" class="form-section" aria-labelledby="safety-title">
                    <header class="section-header">
                        <h2 id="safety-title" class="section-title">
                            <span class="section-number">3</span>
                            Safety Requirements
                        </h2>
                        <p class="section-description">Define general safety precautions and requirements for this SOP</p>
                    </header>
                    <div class="section-content">
                        <div class="safety-grid">
                            <!-- Safety pictograms will be added here -->
                        </div>
                        <div class="safety-notes">
                            <label for="safety-notes-textarea" class="form-label">General Safety Notes</label>
                            <textarea 
                                id="safety-notes-textarea" 
                                class="form-textarea" 
                                placeholder="Describe general safety precautions for this assembly process..."
                                rows="4"
                            ></textarea>
                        </div>
                        <div class="safety-selection">
                            <label for="safety-selector" class="form-label">Add Safety Items from Database</label>
                            <select id="safety-selector" class="tool-selector">
                                <option value="">Select safety item to add...</option>
                                <!-- Options will be populated from safety database -->
                            </select>
                        </div>
                        <div class="selected-safety" id="selected-safety">
                            <!-- Selected safety items will be displayed here -->
                        </div>
                    </div>
                </section>

                <!-- Section 4: Assembly Sequence -->
                <section id="assembly" class="form-section" aria-labelledby="assembly-title">
                    <header class="section-header">
                        <h2 id="assembly-title" class="section-title">
                            <span class="section-number">4</span>
                            Assembly Sequence
                        </h2>
                        <p class="section-description">Document the step-by-step assembly process with tools, fixtures, parts, and safety for each step</p>
                    </header>
                    <div class="section-content">
                        <div class="assembly-steps" id="assembly-steps">
                            <!-- Assembly steps will be added dynamically -->
                        </div>
                        <button type="button" class="add-button" id="add-assembly-step">
                            <span aria-hidden="true">+</span> Add Assembly Step
                        </button>
                    </div>
                </section>

                <!-- Section 5: Preview (Final step) -->
                <section id="preview-section" class="form-section" aria-labelledby="preview-section-title">
                    <header class="section-header">
                        <h2 id="preview-section-title" class="section-title">
                            <span class="section-number">5</span>
                            Preview & Generate
                        </h2>
                        <p class="section-description">Review your SOP and generate the final document</p>
                    </header>
                    <div class="section-content">
                        <div class="preview-summary">
                            <p>Review all sections and click "Generate SOP" to create your final document.</p>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Navigation Controls -->
            <div class="navigation-controls">
                <button class="nav-button" id="prev-section" disabled>
                    <span aria-hidden="true">←</span>
                    Previous
                </button>
                
                <button class="generate-button" id="generate-sop">
                    <span aria-hidden="true">📄</span>
                    Generate SOP
                </button>
                
                <button class="nav-button" id="next-section">
                    Next
                    <span aria-hidden="true">→</span>
                </button>
            </div>
        </div>
    </main>

    <!-- Preview Panel -->
    <aside class="preview-panel" id="preview-panel" role="complementary" aria-label="SOP Preview">
        <header class="preview-header">
            <h2 class="preview-title">SOP Preview</h2>
            <button class="close-preview" 
                    id="preview-toggle" 
                    aria-label="Close preview panel"
                    aria-expanded="false">
                <span aria-hidden="true">×</span>
            </button>
        </header>
        
        <div class="preview-content" id="preview-content">
            <div class="preview-placeholder">
                <p>Your SOP preview will appear here as you complete each section.</p>
                <p>Click "Generate SOP" to create the final document.</p>
            </div>
        </div>
    </aside>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
        <div class="footer-content">
            <p>&copy; 2024 Optimal AI. Assembly SOP Generator - <span class="current-date"></span></p>
        </div>
    </footer>

    <!-- Modals and Overlays -->
    <div class="modal-overlay" id="modal-overlay" aria-hidden="true">
        <div class="modal" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description">
            <header class="modal-header">
                <h3 id="modal-title" class="modal-title"></h3>
                <button type="button" class="modal-close" aria-label="Close modal">
                    <span aria-hidden="true">×</span>
                </button>
            </header>
            <div class="modal-body">
                <p id="modal-description" class="modal-description"></p>
                <div id="modal-content" class="modal-content"></div>
            </div>
            <footer class="modal-footer">
                <button type="button" class="button button--secondary" id="modal-cancel">Cancel</button>
                <button type="button" class="button button--primary" id="modal-confirm">Confirm</button>
            </footer>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div class="loading-overlay" id="loading-overlay" aria-hidden="true">
        <div class="loading-spinner" role="status" aria-label="Loading">
            <span class="sr-only">Loading...</span>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="js/app.js" defer></script>
</body>
</html> 